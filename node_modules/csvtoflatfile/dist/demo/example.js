// import { readFile } from "fs/promises";
// import { convertCsvToWorkbook, createFlatfile } from "../index.js";
export {};
// import "dotenv/config.js";
// const loadCsvWithHeaders = async () => {
//     let importedCsv: string;
//     try {
//         importedCsv = await readFile("./testData/zillow.csv", 'utf8')
//     } catch {
//         throw new Error('Failed to load the CSV file.');
//     }
//     if (!importedCsv) return null;
//     const workbook = convertCsvToWorkbook({ csv: importedCsv, hasColumnHeaders: true, workbookName: 'Zillow', sheetName: 'coolSheet#1' });
//     console.log('workbook done', JSON.stringify(workbook));
//     const flatfile = await createFlatfile(workbook, process.env?.flatfile ?? '');
//     console.log('flatfileResp', flatfile)
// }
// const loadCsvWithoutHeaders = async () => {
//     let importedCsv: string;
//     try {
//         importedCsv = await readFile("./testData/example.csv", 'utf8')
//     } catch {
//         throw new Error('Failed to load the CSV file.');
//     }
//     if (!importedCsv) return null;
//     const parsedCsv = convertCsvToWorkbook({ csv: importedCsv, hasColumnHeaders: false, workbookName: 'TestData', sheetName: 'Sheet', columnHeaders: ['date', 'measurementTotal', 'measurement', 'product', 'name', 'deliveryPoint'], flatfileKey: process.env?.flatfile ?? '' })
//     console.log('parsedCsv', parsedCsv)
// }
// const loadCsvWithAutoGeneratedHeaders = async () => {
//     let importedCsv: string;
//     try {
//         importedCsv = await readFile("./testData/nile.csv", 'utf8')
//     } catch {
//         throw new Error('Failed to load the CSV file.');
//     }
//     if (!importedCsv) return null;
//     const { workbook, recordData } = convertCsvToWorkbook({ csv: importedCsv, hasColumnHeaders: true, workbookName: 'TestData', sheetName: 'The Nile through time' });
//     // add messages to our data, this can be in the form of a warning, info, or error
//     const modifiedRecordData = recordData.map((parsedWeatherData) => {
//         return parsedWeatherData.map((weatherData) => {
//             // add a warning when floods exceed 11
//             if (Number(weatherData.value) > 11 && weatherData.header === 'Flood') return {
//                 ...weatherData, messages: [{
//                     type: "warn",
//                     message: "That's a lot of flooding!"
//                 }]
//             }
//             return { ...weatherData, updatedAt: new Date().toISOString() }; // you can also insert custom record data fields here that will be inserted into the flatile!
//         });
//     });
//     const flatfile = await createFlatfile({ workbook, recordData: modifiedRecordData, flatfileApiKey: process.env?.flatfile ?? '' });
//     console.log('flatfileResp', flatfile)
// }
// const loadCsvWithCustomFieldTypes = async () => {
//     let importedCsv: string;
//     try {
//         importedCsv = await readFile("./testData/nile.csv", 'utf8')
//     } catch {
//         throw new Error('Failed to load the CSV file.');
//     }
//     if (!importedCsv) return null;
//     const parsedCsv = convertCsvToWorkbook({
//         csv: importedCsv,
//         hasColumnHeaders: true,
//         workbookName: 'TestData',
//         sheetName: 'Nile with basic field types',
//         flatfileKey: process.env?.flatfile ?? '',
//         fieldTypes: [{ type: "number" }, { type: "string" }]
//     });
//     console.log('parsedCsv', parsedCsv)
// }
// const loadCsvWithReferenceAndEnum = async () => {
//     let importedCsv: string;
//     try {
//         importedCsv = await readFile("./testData/nile.csv", 'utf8')
//     } catch {
//         throw new Error('Failed to load the CSV file.');
//     }
//     if (!importedCsv) return null;
//     const parsedCsv = convertCsvToWorkbook({
//         csv: importedCsv,
//         hasColumnHeaders: true,
//         workbookName: 'TestData',
//         sheetName: 'Nile with a reference and enum field type',
//         flatfileKey: process.env?.flatfile ?? '',
//         sheetAccess: ["add", "edit", "delete", "import"],
//         fieldTypes: [{
//             type: "reference",
//             config: {
//                 ref: "parents",
//                 key: "email",
//                 relationship: "has-one"
//             }
//         }, {
//             type: "enum",
//             config: {
//                 allow_custom: false,
//                 options: [{
//                     value: "active",
//                     label: "Active"
//                 }, {
//                     value: "inactive",
//                     label: "Disabled",
//                     color: "#ff0000",
//                     icon: "fa fa-ban",
//                     metadata: {
//                         foo: "bar"
//                     }
//                 }]
//             }
//         }]
//     });
//     return parsedCsv;
// }
// loadCsvWithHeaders()
// loadCsvWithoutHeaders()
// loadCsvWithAutoGeneratedHeaders()
// loadCsvWithReference();
// loadCsvWithReferenceAndEnum();
